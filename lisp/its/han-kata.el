;; Basic Roma-to-HankakuKana (jisx0201) Translation Table for Egg

;; This file is part of Egg on Mule (Japanese Environment)

;; Egg is distributed in the forms of patches to GNU
;; Emacs under the terms of the GNU EMACS GENERAL PUBLIC
;; LICENSE which is distributed along with GNU Emacs by the
;; Free Software Foundation.

;; Egg is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied
;; warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
;; PURPOSE.  See the GNU EMACS GENERAL PUBLIC LICENSE for
;; more details.

;; You should have received a copy of the GNU EMACS GENERAL
;; PUBLIC LICENSE along with Nemacs; see the file COPYING.
;; If not, write to the Free Software Foundation, 675 Mass
;; Ave, Cambridge, MA 02139, USA.

;;; 92.9.24  created for Mule Ver.0.9.6 by K.Shibata <shibata@sgi.co.jp>

(require 'jisx0201)

(its-define-mode "roma-han-kata"  "1'" t)

(dolist (aa '("k" "s" "t" "h" "y" "r" "w" "g" "z" "d" "b"
		 "p" "c" "f" "j" "v"))
  (its-defrule (concat aa aa) "/" aa))

(its-defrule "tch"  "/" "ch")

(dolist (q1 '("b" "m" "p"))
  (its-defrule (concat "m" q1) "]" q1))

(its-defrule "N" "]")

(defvar enable-double-n-syntax nil "*Enable ""nn"" input for ""]"" ")

(its-defrule-conditional "n"
  ((not enable-double-n-syntax) "]")
  (t nil))
(its-defrule-conditional "nn"
  ( enable-double-n-syntax "]")
  (t nil))

(its-defrule "n'" "]")

(let ((small '"x" ))
  (its-defrule (concat small "a") "'")
  (its-defrule (concat small "i") "(")
  (its-defrule (concat small "u") ")")
  (its-defrule (concat small "e") "*")
  (its-defrule (concat small "o") "+")
  (its-defrule (concat small "ya") ",")
  (its-defrule (concat small "yu") "-")
  (its-defrule (concat small "yo") ".")
  (its-defrule (concat small "tu") "/")
  (its-defrule (concat small "tsu") "/")
  )


(its-defrule   "a"    "1")
(its-defrule   "i"    "2")
(its-defrule   "u"    "3")
(its-defrule   "e"    "4")
(its-defrule   "o"    "5")
(its-defrule   "ka"   "6")
(its-defrule   "ki"   "7")
(its-defrule   "ku"   "8")
(its-defrule   "ke"   "9")
(its-defrule   "ko"   ":")
(its-defrule   "kya"  "7,")
(its-defrule   "kyu"  "7-")
(its-defrule   "kye"  "7*")
(its-defrule   "kyo"  "7.")
(its-defrule   "sa"   ";")
(its-defrule   "si"   "<")
(its-defrule   "su"   "=")
(its-defrule   "se"   ">")
(its-defrule   "so"   "?")
(its-defrule   "sya"  "<,")
(its-defrule   "syu"  "<-")
(its-defrule   "sye"  "<*")
(its-defrule   "syo"  "<.")
(its-defrule   "sha"  "<,")
(its-defrule   "shi"  "<")
(its-defrule   "shu"  "<-")
(its-defrule   "she"  "<*")
(its-defrule   "sho"  "<.")
(its-defrule   "ta"   "@")
(its-defrule   "ti"   "A")
(its-defrule   "tu"   "B")
(its-defrule   "te"   "C")
(its-defrule   "to"   "D")
(its-defrule   "tya"  "A,")
(its-defrule   "tyi"  "C(")
(its-defrule   "tyu"  "A-")
(its-defrule   "tye"  "A*")
(its-defrule   "tyo"  "A.")
(its-defrule   "tsu"  "B")
(its-defrule   "cha"  "A,")
(its-defrule   "chi"  "A")
(its-defrule   "chu"  "A-")
(its-defrule   "che"  "A*")
(its-defrule   "cho"  "A.")
(its-defrule   "na"   "E")
(its-defrule   "ni"   "F")
(its-defrule   "nu"   "G")
(its-defrule   "ne"   "H")
(its-defrule   "no"   "I")
(its-defrule   "nya"  "F,")
(its-defrule   "nyu"  "F-")
(its-defrule   "nye"  "F*")
(its-defrule   "nyo"  "F.")
(its-defrule   "ha"   "J")
(its-defrule   "hi"   "K")
(its-defrule   "hu"   "L")
(its-defrule   "he"   "M")
(its-defrule   "ho"   "N")
(its-defrule   "hya"  "K,")
(its-defrule   "hyu"  "K-")
(its-defrule   "hye"  "K*")
(its-defrule   "hyo"  "K.")
(its-defrule   "fa"   "L'")
(its-defrule   "fi"   "L(")
(its-defrule   "fu"   "L")
(its-defrule   "fe"   "L*")
(its-defrule   "fo"   "L+")
(its-defrule   "ma"   "O")
(its-defrule   "mi"   "P")
(its-defrule   "mu"   "Q")
(its-defrule   "me"   "R")
(its-defrule   "mo"   "S")
(its-defrule   "mya"  "P,")
(its-defrule   "myu"  "P-")
(its-defrule   "mye"  "P*")
(its-defrule   "myo"  "P.")
(its-defrule   "ya"   "T")
(its-defrule   "yi"   "2")
(its-defrule   "yu"   "U")
(its-defrule   "ye"   "2*")
(its-defrule   "yo"   "V")
(its-defrule   "ra"   "W")
(its-defrule   "ri"   "X")
(its-defrule   "ru"   "Y")
(its-defrule   "re"   "Z")
(its-defrule   "ro"   "[")
(its-defrule   "la"   "W")
(its-defrule   "li"   "X")
(its-defrule   "lu"   "Y")
(its-defrule   "le"   "Z")
(its-defrule   "lo"   "[")
(its-defrule   "rya"  "X,")
(its-defrule   "ryu"  "X-")
(its-defrule   "rye"  "X*")
(its-defrule   "ryo"  "X.")
(its-defrule   "lya"  "X,")
(its-defrule   "lyu"  "X-")
(its-defrule   "lye"  "X*")
(its-defrule   "lyo"  "X.")
(its-defrule   "wa"   "\")
(its-defrule   "wu"   "3")
(its-defrule   "wo"   "&")
(its-defrule   "ga"   "6^")
(its-defrule   "gi"   "7^")
(its-defrule   "gu"   "8^")
(its-defrule   "ge"   "9^")
(its-defrule   "go"   ":^")
(its-defrule   "gya"  "7^,")
(its-defrule   "gyu"  "7^-")
(its-defrule   "gye"  "7^*")
(its-defrule   "gyo"  "7^.")
(its-defrule   "za"   ";^")
(its-defrule   "zi"   "<^")
(its-defrule   "zu"   "=^")
(its-defrule   "ze"   ">^")
(its-defrule   "zo"   "?^")
(its-defrule   "zya"  "<^,")
(its-defrule   "zyu"  "<^-")
(its-defrule   "zye"  "<^*")
(its-defrule   "zyo"  "<^.")
(its-defrule   "ja"   "<^,")
(its-defrule   "ji"   "<^")
(its-defrule   "ju"   "<^-")
(its-defrule   "je"   "<^*")
(its-defrule   "jo"   "<^.")
(its-defrule   "da"   "@^")
(its-defrule   "di"   "A^")
(its-defrule   "du"   "B^")
(its-defrule   "de"   "C^")
(its-defrule   "do"   "D^")
(its-defrule   "dya"  "A^,")
(its-defrule   "dyi"  "A^(")
(its-defrule   "dyu"  "A^-")
(its-defrule   "dye"  "A^*")
(its-defrule   "dyo"  "A^.")
(its-defrule   "ba"   "J^")
(its-defrule   "bi"   "K^")
(its-defrule   "bu"   "L^")
(its-defrule   "be"   "M^")
(its-defrule   "bo"   "N^")
(its-defrule   "va"   "3^'")
(its-defrule   "vi"   "3^(")
(its-defrule   "vu"   "3^")
(its-defrule   "ve"   "3^*")
(its-defrule   "vo"   "3^+")
(its-defrule   "bya"  "K^,")
(its-defrule   "byu"  "K^-")
(its-defrule   "bye"  "K^*")
(its-defrule   "byo"  "K^.")
(its-defrule   "pa"   "J_")
(its-defrule   "pi"   "K_")
(its-defrule   "pu"   "L_")
(its-defrule   "pe"   "M_")
(its-defrule   "po"   "N_")
(its-defrule   "pya"  "K_,")
(its-defrule   "pyu"  "K_-")
(its-defrule   "pye"  "K_*")
(its-defrule   "pyo"  "K_.")
(its-defrule   "kwi"  "8(")
(its-defrule   "kwu"  "8")
(its-defrule   "kwe"  "8*")
(its-defrule   "kwo"  "8+")
(its-defrule   "gwi"  "8^(")
(its-defrule   "gwu"  "8^")
(its-defrule   "gwe"  "8^*")
(its-defrule   "gwo"  "8^+")
(its-defrule   "tsa"  "B'")
(its-defrule   "tsi"  "B(")
(its-defrule   "tse"  "B*")
(its-defrule   "tso"  "B+")
(its-defrule   "xka"  "6")
(its-defrule   "xke"  "9")
(its-defrule   "xti"  "C(")
(its-defrule   "xdi"  "A^(")
(its-defrule   "xdu"  "D^)")
(its-defrule   "xde"  "A^*")
(its-defrule   "xdo"  "D^+")
(its-defrule   "xwi"  "3(")
(its-defrule   "xwe"  "3*")
(its-defrule   "xwo"  "3+")

(its-defrule   "-"   "0")
(its-defrule   "["    """)
(its-defrule   "]"    "#")
(its-defrule   "z/"   "%")

(defvar use-kuten-for-period t "*K_X5D^を句点に変換する")
(defvar use-touten-for-comma t "*:]Oを読点に変換する")

(its-defrule-conditional "."
  (use-kuten-for-period "!")
  (t "."))

(its-defrule-conditional ","
  (use-touten-for-comma "$")
  (t ","))

(its-defrule (concat zenkaku-escape ",")  "，")
(its-defrule (concat zenkaku-escape ".")  "．")

(defun its:select-hankaku-katakana ()
  (interactive)
  (its:select-mode "roma-han-kata"))

(define-key mule-keymap "x" 'its:select-hankaku-katakana)
(define-key fence-mode-map "\e\C-x" 'its:select-hankaku-katakana)
